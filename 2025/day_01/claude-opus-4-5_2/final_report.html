<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advent of Code 2025 - –î–µ–Ω—å 1: –°–µ–∫—Ä–µ—Ç–Ω—ã–π –≤—Ö–æ–¥</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #e0e0e0;
            min-height: 100vh;
        }
        h1, h2, h3 {
            color: #00d4ff;
        }
        .header {
            text-align: center;
            padding: 20px;
            border-bottom: 2px solid #00d4ff;
            margin-bottom: 30px;
        }
        .author {
            color: #ffd700;
            font-style: italic;
        }
        a {
            color: #00d4ff;
        }
        .section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid rgba(0, 212, 255, 0.3);
        }
        code {
            background: rgba(0, 0, 0, 0.3);
            padding: 2px 6px;
            border-radius: 4px;
            font-family: 'Consolas', monospace;
            color: #ffd700;
        }
        pre {
            background: rgba(0, 0, 0, 0.4);
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            border: 1px solid #333;
        }
        .highlight {
            color: #00ff88;
            font-weight: bold;
        }
        .warning {
            color: #ff6b6b;
            font-weight: bold;
        }
        .dial-container {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            margin: 30px 0;
        }
        canvas {
            border-radius: 50%;
            box-shadow: 0 0 30px rgba(0, 212, 255, 0.5);
        }
        .controls {
            margin-top: 20px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }
        button {
            background: linear-gradient(135deg, #00d4ff, #0099cc);
            color: #1a1a2e;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: transform 0.2s;
        }
        button:hover {
            transform: scale(1.05);
        }
        .stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        .stat-box {
            background: rgba(0, 212, 255, 0.1);
            padding: 15px 25px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid #00d4ff;
            margin: 5px;
        }
        .stat-value {
            font-size: 2em;
            color: #ffd700;
            font-weight: bold;
        }
        .joke {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(255, 107, 107, 0.1));
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #ffd700;
            margin: 20px 0;
            font-style: italic;
        }
        .formula {
            background: rgba(0, 255, 136, 0.1);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #00ff88;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üéÑ Advent of Code 2025 - –î–µ–Ω—å 1 üéÑ</h1>
        <h2>–°–µ–∫—Ä–µ—Ç–Ω—ã–π –≤—Ö–æ–¥ (Secret Entrance)</h2>
        <p class="author">–†–µ—à–µ–Ω–∏–µ –æ—Ç: claude-opus-4-5</p>
        <p><a href="https://adventofcode.com/2025/day/1" target="_blank">–°—Å—ã–ª–∫–∞ –Ω–∞ –∑–∞–¥–∞—á—É ‚Üí</a></p>
    </div>

    <div class="section">
        <h2>üìã –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏</h2>
        <p>
            –£ –Ω–∞—Å –µ—Å—Ç—å <strong>—Ü–∏—Ñ–µ—Ä–±–ª–∞—Ç</strong> —Å —á–∏—Å–ª–∞–º–∏ –æ—Ç 0 –¥–æ 99, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω—ã–º–∏ –ø–æ –∫—Ä—É–≥—É.
            –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è —Å—Ç—Ä–µ–ª–∫–∏ ‚Äî <code>50</code>.
        </p>
        <p>
            –ù–∞–º –¥–∞–Ω–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–æ–º–∞–Ω–¥ –≤—Ä–∞—â–µ–Ω–∏—è:
        </p>
        <ul>
            <li><code>L<em>n</em></code> ‚Äî –ø–æ–≤–µ—Ä–Ω—É—Ç—å –≤–ª–µ–≤–æ (–∫ –º–µ–Ω—å—à–∏–º —á–∏—Å–ª–∞–º) –Ω–∞ <em>n</em> —â–µ–ª—á–∫–æ–≤</li>
            <li><code>R<em>n</em></code> ‚Äî –ø–æ–≤–µ—Ä–Ω—É—Ç—å –≤–ø—Ä–∞–≤–æ (–∫ –±–æ–ª—å—à–∏–º —á–∏—Å–ª–∞–º) –Ω–∞ <em>n</em> —â–µ–ª—á–∫–æ–≤</li>
        </ul>
        <p>
            <strong>–ß–∞—Å—Ç—å 1:</strong> –ü–æ–¥—Å—á–∏—Ç–∞—Ç—å, —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ —Å—Ç—Ä–µ–ª–∫–∞ <em>–æ—Å—Ç–∞–Ω–æ–≤–∏–ª–∞—Å—å</em> –Ω–∞ 0 –ø–æ—Å–ª–µ –≤—Ä–∞—â–µ–Ω–∏—è.
        </p>
        <p>
            <strong>–ß–∞—Å—Ç—å 2:</strong> –ü–æ–¥—Å—á–∏—Ç–∞—Ç—å, —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ —Å—Ç—Ä–µ–ª–∫–∞ <em>–ø—Ä–æ—à–ª–∞ —á–µ—Ä–µ–∑</em> 0 (–≤–∫–ª—é—á–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∏ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è –≤–æ –≤—Ä–µ–º—è –≤—Ä–∞—â–µ–Ω–∏—è).
        </p>
    </div>

    <div class="dial-container">
        <h3>üéØ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è</h3>
        <canvas id="dialCanvas" width="400" height="400"></canvas>
        <div class="controls">
            <button onclick="rotateLeft(10)">L10 (–≤–ª–µ–≤–æ)</button>
            <button onclick="rotateRight(10)">R10 (–≤–ø—Ä–∞–≤–æ)</button>
            <button onclick="rotateLeft(68)">L68</button>
            <button onclick="rotateRight(48)">R48</button>
            <button onclick="resetDial()">–°–±—Ä–æ—Å –Ω–∞ 50</button>
            <button onclick="runExample()">‚ñ∂ –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–º–µ—Ä</button>
        </div>
        <div class="stats">
            <div class="stat-box">
                <div>–¢–µ–∫—É—â–∞—è –ø–æ–∑–∏—Ü–∏—è</div>
                <div class="stat-value" id="currentPos">50</div>
            </div>
            <div class="stat-box">
                <div>–ü—Ä–æ—à–ª–∏ —á–µ—Ä–µ–∑ 0</div>
                <div class="stat-value" id="zeroCount">0</div>
            </div>
            <div class="stat-box">
                <div>–û–ø–µ—Ä–∞—Ü–∏–π</div>
                <div class="stat-value" id="opCount">0</div>
            </div>
        </div>
    </div>

    <div class="section">
        <h2>üßÆ –ê–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥</h2>
        
        <h3>–ß–∞—Å—Ç—å 1: –ü—Ä–æ—Å—Ç–∞—è —Å–∏–º—É–ª—è—Ü–∏—è</h3>
        <p>–î–ª—è –ø–µ—Ä–≤–æ–π —á–∞—Å—Ç–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ–π —Å–∏–º—É–ª—è—Ü–∏–∏ —Å –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–æ–π:</p>
        <pre>
position = 50
for –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã:
    if direction == 'L':
        position = (position - distance) % 100
    else:  # 'R'
        position = (position + distance) % 100
    if position == 0:
        count += 1</pre>
        
        <h3>–ß–∞—Å—Ç—å 2: –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è</h3>
        <p>
            –ù–∞–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ ‚Äî —Å–∏–º—É–ª–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π —â–µ–ª—á–æ–∫ ‚Äî –±—ã–ª–æ –±—ã —Å–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω—ã–º –ø—Ä–∏ –±–æ–ª—å—à–∏—Ö —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è—Ö 
            (–Ω–∞–ø—Ä–∏–º–µ—Ä, <code>R1000000</code>). –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º <strong>—Ñ–æ—Ä–º—É–ª—ã</strong>:
        </p>
        
        <div class="formula">
            <strong>–î–ª—è –ø–æ–≤–æ—Ä–æ—Ç–∞ –í–ü–†–ê–í–û</strong> –∏–∑ –ø–æ–∑–∏—Ü–∏–∏ P –Ω–∞ D —â–µ–ª—á–∫–æ–≤:<br>
            <code>zeros = (P + D) // 100</code><br><br>
            –õ–æ–≥–∏–∫–∞: –º—ã –ø—Ä–æ—Ö–æ–¥–∏–º —á–µ—Ä–µ–∑ 0 –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –æ—Ç 99 –∫ 0.
        </div>
        
        <div class="formula">
            <strong>–î–ª—è –ø–æ–≤–æ—Ä–æ—Ç–∞ –í–õ–ï–í–û</strong> –∏–∑ –ø–æ–∑–∏—Ü–∏–∏ P –Ω–∞ D —â–µ–ª—á–∫–æ–≤:<br>
            <code>if P == 0: zeros = D // 100</code><br>
            <code>elif D >= P: zeros = (D - P) // 100 + 1</code><br>
            <code>else: zeros = 0</code><br><br>
            –õ–æ–≥–∏–∫–∞: –º—ã –ø—Ä–æ—Ö–æ–¥–∏–º —á–µ—Ä–µ–∑ 0 –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –ø–µ—Ä–µ—Ö–æ–¥–∏–º –æ—Ç 1 –∫ 0. 
            –û—Å–æ–±—ã–π —Å–ª—É—á–∞–π –¥–ª—è P=0, —Ç–∞–∫ –∫–∞–∫ –ø–µ—Ä–≤—ã–π —â–µ–ª—á–æ–∫ –≤–µ–¥—ë—Ç –∫ 99, –∞ –Ω–µ –∫ 0.
        </div>
    </div>

    <div class="section">
        <h2>‚ö†Ô∏è –ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏ –∏ –ª–æ–≤—É—à–∫–∏</h2>
        
        <h3 class="warning">1. –û—Å–æ–±—ã–π —Å–ª—É—á–∞–π P = 0 –¥–ª—è –ª–µ–≤–æ–≥–æ –≤—Ä–∞—â–µ–Ω–∏—è</h3>
        <p>
            –≠—Ç–æ –≥–ª–∞–≤–Ω–∞—è –ª–æ–≤—É—à–∫–∞! –ö–æ–≥–¥–∞ –ø–æ–∑–∏—Ü–∏—è = 0 –∏ –º—ã –≤—Ä–∞—â–∞–µ–º—Å—è –≤–ª–µ–≤–æ, 
            <strong>–ø–µ—Ä–≤—ã–π –∂–µ —â–µ–ª—á–æ–∫ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç –Ω–∞—Å –Ω–∞ 99</strong>, –∞ –Ω–µ —Å–Ω–æ–≤–∞ –Ω–∞ 0.
            –ü–æ—ç—Ç–æ–º—É —Ñ–æ—Ä–º—É–ª–∞ –¥–ª—è –ª–µ–≤–æ–≥–æ –≤—Ä–∞—â–µ–Ω–∏—è —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–ª—É—á–∞—è P = 0.
        </p>
        
        <h3 class="warning">2. –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä–∏—Ñ–º–µ—Ç–∏–∫–∞ –≤ Python</h3>
        <p>
            –ö —Å—á–∞—Å—Ç—å—é, –≤ Python –æ–ø–µ—Ä–∞—Ü–∏—è <code>%</code> –¥–ª—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã—Ö —á–∏—Å–µ–ª —Ä–∞–±–æ—Ç–∞–µ—Ç "–ø—Ä–∞–≤–∏–ª—å–Ω–æ":
            <code>(-10) % 100 = 90</code>, –∞ –Ω–µ -10. –≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç –∫–æ–¥.
        </p>
        
        <h3 class="warning">3. –ë–æ–ª—å—à–∏–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è</h3>
        <p>
            –ó–∞–¥–∞—á–∞ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–µ—Ç: <code>R1000</code> –æ—Ç –ø–æ–∑–∏—Ü–∏–∏ 50 –ø—Ä–æ–π–¥—ë—Ç —á–µ—Ä–µ–∑ 0 –¥–µ—Å—è—Ç—å —Ä–∞–∑!
            –≠—Ç–æ –Ω–∞–º—ë–∫, —á—Ç–æ –Ω—É–∂–Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –∞ –Ω–µ –Ω–∞–∏–≤–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è.
        </p>
    </div>

    <div class="section">
        <h2>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã</h2>
        <div class="stats">
            <div class="stat-box">
                <div>–ß–∞—Å—Ç—å 1</div>
                <div class="stat-value">995</div>
            </div>
            <div class="stat-box">
                <div>–ß–∞—Å—Ç—å 2</div>
                <div class="stat-value">5847</div>
            </div>
        </div>
    </div>

    <div class="joke">
        <h3>üé≠ –®—É—Ç–∫–∞ –¥–Ω—è</h3>
        <p>
            –ü–æ—á–µ–º—É –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç –Ω–µ —Å–º–æ–≥ –æ—Ç–∫—Ä—ã—Ç—å —Å–µ–π—Ñ —ç–ª—å—Ñ–æ–≤?<br><br>
            –ü–æ—Ç–æ–º—É —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª <code>password % 100</code> –≤–º–µ—Å—Ç–æ <code>password.count(0)</code>! üîê
        </p>
        <p style="margin-top: 15px;">
            <em>"–í –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏, –∫–∞–∫ –∏ –≤ —Å–µ–π—Ñ–∞—Ö ‚Äî –≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å –æ—Å–æ–±—ã–π —Å–ª—É—á–∞–π, 
            –∫–æ–≥–¥–∞ –ø–æ–∑–∏—Ü–∏—è —Ä–∞–≤–Ω–∞ –Ω—É–ª—é."</em> ‚Äî –î—Ä–µ–≤–Ω—è—è —ç–ª—å—Ñ–∏–π—Å–∫–∞—è –º—É–¥—Ä–æ—Å—Ç—å
        </p>
    </div>

    <div class="section">
        <h2>üí° –ò–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Ñ–∞–∫—Ç—ã</h2>
        <ul>
            <li>
                –ö–æ–¥ –º–µ—Ç–æ–¥–∞ <code>0x434C49434B</code> –∏–∑ —É—Å–ª–æ–≤–∏—è ‚Äî —ç—Ç–æ ASCII-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ–≤–∞ "CLICK" 
                (C=0x43, L=0x4C, I=0x49, C=0x43, K=0x4B)
            </li>
            <li>
                –≠—Ç–∞ –∑–∞–¥–∞—á–∞ ‚Äî –æ—Ç–ª–∏—á–Ω—ã–π –ø—Ä–∏–º–µ—Ä —Ç–æ–≥–æ, –∫–∞–∫ –ø—Ä–æ—Å—Ç–∞—è –Ω–∞ –≤–∏–¥ –∑–∞–¥–∞—á–∞ —Å–∏–º—É–ª—è—Ü–∏–∏ 
                –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è
            </li>
            <li>
                –í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è: O(n), –≥–¥–µ n ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–∞–Ω–¥,
                –≤–º–µ—Å—Ç–æ O(n √ó D) –¥–ª—è –Ω–∞–∏–≤–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞
            </li>
        </ul>
    </div>

    <script>
        const canvas = document.getElementById('dialCanvas');
        const ctx = canvas.getContext('2d');
        let currentPosition = 50;
        let zeroCount = 0;
        let operationCount = 0;
        let animationId = null;
        let targetPosition = 50;
        let animating = false;

        function drawDial(highlightZero = false) {
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = 180;
            
            // Clear
            ctx.fillStyle = '#1a1a2e';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Outer ring
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius + 10, 0, Math.PI * 2);
            ctx.strokeStyle = '#00d4ff';
            ctx.lineWidth = 3;
            ctx.stroke();
            
            // Inner ring
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius - 30, 0, Math.PI * 2);
            ctx.strokeStyle = '#333';
            ctx.lineWidth = 2;
            ctx.stroke();
            
            // Numbers
            for (let i = 0; i < 100; i++) {
                const angle = (i / 100) * Math.PI * 2 - Math.PI / 2;
                const x = centerX + Math.cos(angle) * radius;
                const y = centerY + Math.sin(angle) * radius;
                
                if (i % 10 === 0) {
                    ctx.font = 'bold 14px Arial';
                    ctx.fillStyle = i === 0 ? (highlightZero ? '#ff6b6b' : '#ffd700') : '#00d4ff';
                } else if (i % 5 === 0) {
                    ctx.font = '10px Arial';
                    ctx.fillStyle = '#888';
                } else {
                    continue;
                }
                
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                ctx.fillText(i.toString(), x, y);
                
                // Tick marks
                const tickStart = radius - 35;
                const tickEnd = radius - 25;
                ctx.beginPath();
                ctx.moveTo(centerX + Math.cos(angle) * tickStart, centerY + Math.sin(angle) * tickStart);
                ctx.lineTo(centerX + Math.cos(angle) * tickEnd, centerY + Math.sin(angle) * tickEnd);
                ctx.strokeStyle = i === 0 ? '#ffd700' : '#444';
                ctx.lineWidth = i % 10 === 0 ? 2 : 1;
                ctx.stroke();
            }
            
            // Arrow/pointer
            const pointerAngle = (currentPosition / 100) * Math.PI * 2 - Math.PI / 2;
            const pointerLength = radius - 50;
            
            ctx.beginPath();
            ctx.moveTo(centerX, centerY);
            ctx.lineTo(
                centerX + Math.cos(pointerAngle) * pointerLength,
                centerY + Math.sin(pointerAngle) * pointerLength
            );
            ctx.strokeStyle = '#ff6b6b';
            ctx.lineWidth = 4;
            ctx.lineCap = 'round';
            ctx.stroke();
            
            // Center dot
            ctx.beginPath();
            ctx.arc(centerX, centerY, 8, 0, Math.PI * 2);
            ctx.fillStyle = '#ff6b6b';
            ctx.fill();
            
            // Pointer tip
            ctx.beginPath();
            ctx.arc(
                centerX + Math.cos(pointerAngle) * pointerLength,
                centerY + Math.sin(pointerAngle) * pointerLength,
                6, 0, Math.PI * 2
            );
            ctx.fillStyle = '#ffd700';
            ctx.fill();
        }

        function updateStats() {
            document.getElementById('currentPos').textContent = Math.round(currentPosition);
            document.getElementById('zeroCount').textContent = zeroCount;
            document.getElementById('opCount').textContent = operationCount;
        }

        function calculateZerosLeft(P, D) {
            P = Math.round(P);
            if (P === 0) return Math.floor(D / 100);
            if (D >= P) return Math.floor((D - P) / 100) + 1;
            return 0;
        }

        function calculateZerosRight(P, D) {
            return Math.floor((Math.round(P) + D) / 100);
        }

        function animateRotation(direction, distance, callback) {
            if (animating) return;
            animating = true;
            
            const startPos = currentPosition;
            const steps = Math.min(distance, 100); // Max 100 animation steps
            const stepSize = distance / steps;
            let currentStep = 0;
            
            const zeros = direction === 'L' ? 
                calculateZerosLeft(startPos, distance) : 
                calculateZerosRight(startPos, distance);
            
            function animate() {
                currentStep++;
                if (currentStep <= steps) {
                    if (direction === 'L') {
                        currentPosition = (startPos - currentStep * stepSize + 10000) % 100;
                    } else {
                        currentPosition = (startPos + currentStep * stepSize) % 100;
                    }
                    
                    const nearZero = Math.abs(currentPosition) < 2 || Math.abs(currentPosition - 100) < 2;
                    drawDial(nearZero);
                    updateStats();
                    
                    animationId = requestAnimationFrame(animate);
                } else {
                    // Final position
                    if (direction === 'L') {
                        currentPosition = (startPos - distance + 10000) % 100;
                    } else {
                        currentPosition = (startPos + distance) % 100;
                    }
                    
                    zeroCount += zeros;
                    operationCount++;
                    drawDial(currentPosition === 0);
                    updateStats();
                    animating = false;
                    
                    if (callback) setTimeout(callback, 300);
                }
            }
            
            animate();
        }

        function rotateLeft(distance) {
            animateRotation('L', distance);
        }

        function rotateRight(distance) {
            animateRotation('R', distance);
        }

        function resetDial() {
            if (animating) return;
            currentPosition = 50;
            zeroCount = 0;
            operationCount = 0;
            drawDial();
            updateStats();
        }

        function runExample() {
            if (animating) return;
            resetDial();
            
            const commands = [
                ['L', 68], ['L', 30], ['R', 48], ['L', 5], ['R', 60],
                ['L', 55], ['L', 1], ['L', 99], ['R', 14], ['L', 82]
            ];
            
            let i = 0;
            function runNext() {
                if (i < commands.length) {
                    const [dir, dist] = commands[i];
                    i++;
                    if (dir === 'L') {
                        animateRotation('L', dist, runNext);
                    } else {
                        animateRotation('R', dist, runNext);
                    }
                }
            }
            
            runNext();
        }

        // Initial draw
        drawDial();
        updateStats();
    </script>
</body>
</html>